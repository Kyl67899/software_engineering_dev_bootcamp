<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products</title>
</head>

<body>
    <!-- <form method="GET" action="/products">
      <label>Category:</label>
      <select name="category">
          <option value="">All</option>
          <option value="Men">Men</option>
          <option value="Women">Women</option>
          <option value="Kids">Kids</option>
          <option value="Accessories">Accessories</option>
      </select>
  
      <label>Min Price:</label>
      <input type="number" name="min_price" placeholder="0">
  
      <label>Max Price:</label>
      <input type="number" name="max_price" placeholder="1000">
  
      <label>Min Rating:</label>
      <input type="number" step="0.1" name="min_rating" placeholder="0">
  
      <button type="submit">Filter</button>
  </form> -->
    <form method="GET" action="/products">
        <label>Sort By:</label>
        <select name="sort">
            <option value="rating">Highest Rating</option>
            <option value="price_low">Price Low to High</option>
            <option value="price_high">Price High to Low</option>
        </select>
        <button type="submit">Apply</button>
    </form>


    <!-- Display Filtered Products -->
    <h1>{{ product.name }}</h1>
    <p>Price: ${{ product.price }}</p>
    <p>Rating: {{ product.rating }}</p>

    <h2>Customer Reviews</h2>
    <form method="POST" action="/add_review/{{ product.id }}">
        <label>Rate Product:</label>
        <input type="number" name="rating" min="1" max="5" step="0.1">

        <label>Comment:</label>
        <textarea name="comment"></textarea>

        <button type="submit">Submit Review</button>
    </form>

    {% for review in product.reviews %}
    <div>
        <p><strong>{{ review.user.username }}</strong> rated {{ review.rating }}/5</p>
        <p>{{ review.comment }}</p>
    </div>
    {% endfor %}




</body>

</html>